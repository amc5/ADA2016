---
title: "spatial_gp"
output: html_document:
  toc: true
  toc_float: true
---

```{r}
knitr::opts_chunk$set(
    echo = TRUE,
    warning = FALSE,
    comment = "##",
    prompt = FALSE,
    tidy = TRUE,
    tidy.opts = list(width.cutoff = 75),
    fig.path = "img/"
)
```

```{r}
library(rmarkdown)
```

#Geospatial Data Analysis
##December 8, 2016
###Rachel, Allison & Silvy

##Objectives: 
>In this lession, you will learn about geospatial information and the analyses that can be done with it. We will download, manipulate, and transform data sets. Data can be projected in different ways for different purposes. We will use both home range data and geographic range data for our examples, and overlay these layers with other relevant data layers, such as altitude and land forms. This data can be visually and statistically analyzed. Finally, we will create a publication ready map!

Geospatial information is critical for analyzing data on landscapes, range, demographics, etc. Visualizing geospatial data on a map is helpful for thinking about the implications of your results. Spatial data analyses address questions that cannot be answered by simply looking at the data themselves, and are concerned with the quantitative location of important features. Geospatial data has a geographic component to it. It is used to plot locations, regions, ranges, etc. 

##Why use R??
You can project anything that you want on a map using geospatial methods in R. Developers have been creating and updating R spatial data packages for the alst 10 years. R is equipped to handle the large data sets that are often required for spatial analysis. Geographic Information Systems (GIS) is a computer based system to aid in the collection, maintenance, storage, analysis, output, and distribution of spatial data and information. However, ArcGIS is a very expensive software ($1,500 for a single license), but all of its skills and tricks can be done in R for free!

##Applications:
* Create maps
* Visualize spatial data
* Project metadata
* Predict variables
* Layers and layers of spatial data visualization

##Useful skills:
* __Install__ basemaps from multiple sources
* __Create__ and/or download shapefiles
* __Manipulate__ shapefiles and polygons
* __Access__, __analyze__, and __transform__ metadata
* MAPS, MAPS, MAPS!

##Key Concepts
__Geographic coordinate system__ is a common spherical coordinate reference system for specifying location of features on the curved surface of the earth used to define the spatial location and extent of geographic objects. Coordinates define location in two or three-dimensional space. Coordinate pairs, x and y, or coordinate triples, x, y, and z, are used to define the shape and location of each spatial object or phenomenon. The longitude is the east or west location of a point, and the latitude is the north or south location of a point.    

__The Universal Transverse Mercator projection__ is a cylindrical projection of the world's layout on a map that touches at the equator. A projection is a mathematical transformation of the globe onto some other surface, in this case, a grid. UTM is the typical projection used in GIS and spatial analyses.    

__Attributes__ are feature characteristics that can be plotted on a map.   

__Vector data__ models use discrete elements such as points, lines, and polygons to represent the geometry of real-world entities.

__Raster data__ models are the natural means to represent continuous spatial features or phenomenon. They define the world as a regular set of cells in a grid pattern that are square and evenly spaced in the x and y directions.    

__Coordinate systems__ must be defined from the start of a project.     

__Point__: single point location, such as a GPS reading or a geocoded address    

__Line__: set of ordered points, connected by straight line segments    

__Polygon__: area, marked by one or more enclosing lines, possibly containing holes 

__Grid__: collection of points or rectangular cells, organised in a regular lattice (raster data)    

image: ![Example of the different attributes: points, lines, polygons, and grids]("C:\Users\Allison\Desktop\img\polygons.jpg")
<img src="img/polygons.jpg"/>

##Current research and applications
Faust C, Dobson AP. 2015. Primate malarias: diversity, distribution and insights for zoonotic Plasmodium. One Health 1:66-75.
* Meta-analysis to quantify the global distribution, host range, and diversity of non-human primate malarias globally
* Using R, survey data was merged with IUCN spatial data for priamte species geographic range
* This map shows prevalence of primate malarias by region. Non-white portions of pie charts show proportion infected and reflect sampling method

Williams AN, Ulm S, Cook AR, Langley MC, Collard M. 2013. Human refugia in Australia during the Last Glacial Maximum and Terminal Pleistocene: a geospatial analysis of the 25-12 ka Australian archaeological record. Journal of Archaeological Science 40:4612-4625.
* Evaluate models of Aboriginal Australian popoulation response to climate change using comprehensive continent-wide dataset of archaeological radiocarbon ages and geospatial techniques.
* Used ArcGIS, R, and Geospatial Modelling Environment (GME) 

Vonhof MJ, Whitehead H, Fenton MB. 2003. Analysis of Spix's disc-winged bat association patterns and roosting home ranges reveal a novel social structure among bats. Animal Behavior 68:507-521.
* Using GIS methods from field work GPS points, authors found that various social groups of the same species overalp in space, but rarely interact socially, perhaps based on kinship and cooperation.
* Map shows different habitat types (in gray) and roosting home range polygons of 21 social groups of _Thyroptera tricolor_

##Additional resourcese and useful links
["Use R!: Applied Spatial Data Analysis with R"] (http://gis.humboldt.edu/OLM/r/Spatial%20Analysis%20With%20R.pdf)  
["R useful cheatsheet"] (www.maths.lancs.ac.uk/~rowlings/Teaching/UseR2012/cheatsheet.html)   
["Introduction to Visualizing Spatial Data in R"] (https://cran.r-project.org/doc/contrib/intro-spatial-rl.pdf)


```{r}
install.packages("EBImage")
library(EBImage) #comp cant find package
g <- system.file("img", "dora.gif", package = "EBImage")
gif <- readImage(g)
display(gif)
````

image: ![We're the map!]("http://cdn.elciudadano.cl/wp-content/uploads/2015/03/Mapa-dora.gif")
<img src="img/dora.gif/>"
